(function(d,w){typeof exports=="object"&&typeof module<"u"?module.exports=w(require("vue")):typeof define=="function"&&define.amd?define(["vue"],w):(d=typeof globalThis<"u"?globalThis:d||self,d.MMFMRenderer=w(d.Vue))})(this,function(d){"use strict";const w={key:0},ue=d.defineComponent({__name:"Text",props:{children:{},token:{},plain:{type:Boolean,default:!1},className:{},nowrap:{type:Boolean,default:!1},note:{},style:{}},setup(u){const n=u,r=d.computed(()=>n.plain?[n.token.text.replace(/\n/g," ")]:n.token.text.split(/\r\n|\n|\r/)),s=(c,e)=>e+1!==r.value.length;return(c,e)=>(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.value,(h,C)=>(d.openBlock(),d.createElementBlock(d.Fragment,{key:C},[d.createElementVNode("span",{class:d.normalizeClass(["text",[c.className,c.$attrs.class]]),style:d.normalizeStyle(c.style)},d.toDisplayString(h),7),s(h,C)?(d.openBlock(),d.createElementBlock("br",w)):d.createCommentVNode("",!0)],64))),128))}});var j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R={},I={},q={},D={},K={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.createLanguage=u.lazy=u.lineEnd=u.lineBegin=u.char=u.newline=u.crlf=u.lf=u.cr=u.notMatch=u.alt=u.seq=u.regexp=u.str=u.Parser=u.failure=u.success=void 0;function n(y,p){return{success:!0,value:p,index:y}}u.success=n;function r(){return{success:!1}}u.failure=r;class s{constructor(p,i){this.handler=(t,f,o)=>{if(o.trace&&this.name!=null){const a=`${f}`;console.log(`${a.padEnd(6," ")}enter ${this.name}`);const _=p(t,f,o);if(_.success){const l=`${f}:${_.index}`;console.log(`${l.padEnd(6," ")}match ${this.name}`)}else{const l=`${f}`;console.log(`${l.padEnd(6," ")}fail ${this.name}`)}return _}return p(t,f,o)},this.name=i}map(p){return new s((i,t,f)=>{const o=this.handler(i,t,f);return o.success?n(o.index,p(o.value)):o})}text(){return new s((p,i,t)=>{const f=this.handler(p,i,t);if(!f.success)return f;const o=p.slice(i,f.index);return n(f.index,o)})}many(p){return new s((i,t,f)=>{let o,a=t;const _=[];for(;a<i.length&&(o=this.handler(i,a,f),!!o.success);)a=o.index,_.push(o.value);return _.length<p?r():n(a,_)})}sep(p,i){if(i<1)throw new Error('"min" must be a value greater than or equal to 1.');return h([this,h([p,this],1).many(i-1)]).map(t=>[t[0],...t[1]])}option(){return C([this,N(null)])}}u.Parser=s;function c(y){return new s((p,i,t)=>p.length-i<y.length||p.substr(i,y.length)!==y?r():n(i+y.length,y))}u.str=c;function e(y){const p=RegExp(`^(?:${y.source})`,y.flags);return new s((i,t,f)=>{const o=i.slice(t),a=p.exec(o);return a==null?r():n(t+a[0].length,a[0])})}u.regexp=e;function h(y,p){return new s((i,t,f)=>{let o,a=t;const _=[];for(let l=0;l<y.length;l++){if(o=y[l].handler(i,a,f),!o.success)return o;a=o.index,_.push(o.value)}return n(a,p!=null?_[p]:_)})}u.seq=h;function C(y){return new s((p,i,t)=>{let f;for(let o=0;o<y.length;o++)if(f=y[o].handler(p,i,t),f.success)return f;return r()})}u.alt=C;function N(y){return new s((p,i,t)=>n(i,y))}function $(y){return new s((p,i,t)=>y.handler(p,i,t).success?r():n(i,null))}u.notMatch=$,u.cr=c("\r"),u.lf=c(`
`),u.crlf=c(`\r
`),u.newline=C([u.crlf,u.cr,u.lf]),u.char=new s((y,p,i)=>{if(y.length-p<1)return r();const t=y.charAt(p);return n(p+1,t)}),u.lineBegin=new s((y,p,i)=>p===0||u.cr.handler(y,p-1,i).success||u.lf.handler(y,p-1,i).success?n(p,null):r()),u.lineEnd=new s((y,p,i)=>p===y.length||u.cr.handler(y,p,i).success||u.lf.handler(y,p,i).success?n(p,null):r());function b(y){const p=new s((i,t,f)=>(p.handler=y().handler,p.handler(i,t,f)));return p}u.lazy=b;function M(y){const p={};for(const i of Object.keys(y))p[i]=b(()=>{const t=y[i](p);if(t==null)throw new Error("syntax must return a parser.");return t.name=i,t});return p}u.createLanguage=M})(K);var S={},H={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.TEXT=u.PLAIN=u.FN=u.LINK=u.N_URL=u.HASHTAG=u.MENTION=u.MATH_INLINE=u.INLINE_CODE=u.STRIKE=u.ITALIC=u.SMALL=u.BOLD=u.EMOJI_CODE=u.UNI_EMOJI=u.CENTER=u.MATH_BLOCK=u.CODE_BLOCK=u.SEARCH=u.QUOTE=u.isMfmBlock=void 0;const n=["quote","search","blockCode","mathBlock","center"];function r(m){return n.includes(m.type)}u.isMfmBlock=r;const s=m=>({type:"quote",children:m});u.QUOTE=s;const c=(m,B)=>({type:"search",props:{query:m,content:B}});u.SEARCH=c;const e=(m,B)=>({type:"blockCode",props:{code:m,lang:B}});u.CODE_BLOCK=e;const h=m=>({type:"mathBlock",props:{formula:m}});u.MATH_BLOCK=h;const C=m=>({type:"center",children:m});u.CENTER=C;const N=m=>({type:"unicodeEmoji",props:{emoji:m}});u.UNI_EMOJI=N;const $=m=>({type:"emojiCode",props:{name:m}});u.EMOJI_CODE=$;const b=m=>({type:"bold",children:m});u.BOLD=b;const M=m=>({type:"small",children:m});u.SMALL=M;const y=m=>({type:"italic",children:m});u.ITALIC=y;const p=m=>({type:"strike",children:m});u.STRIKE=p;const i=m=>({type:"inlineCode",props:{code:m}});u.INLINE_CODE=i;const t=m=>({type:"mathInline",props:{formula:m}});u.MATH_INLINE=t;const f=(m,B,O)=>({type:"mention",props:{username:m,host:B,acct:O}});u.MENTION=f;const o=m=>({type:"hashtag",props:{hashtag:m}});u.HASHTAG=o;const a=(m,B)=>{const O={type:"url",props:{url:m}};return B&&(O.props.brackets=B),O};u.N_URL=a;const _=(m,B,O)=>({type:"link",props:{silent:m,url:B},children:O});u.LINK=_;const l=(m,B,O)=>({type:"fn",props:{name:m,args:B},children:O});u.FN=l;const k=m=>({type:"plain",children:[(0,u.TEXT)(m)]});u.PLAIN=k;const g=m=>({type:"text",props:{text:m}});u.TEXT=g})(H),Object.defineProperty(S,"__esModule",{value:!0}),S.inspectOne=S.stringifyTree=S.stringifyNode=S.mergeText=void 0;const U=H;function ne(u){const n=[],r=[];function s(){r.length>0&&(n.push((0,U.TEXT)(r.join(""))),r.length=0)}const c=u.flat(1);for(const e of c)typeof e=="string"?r.push(e):!Array.isArray(e)&&e.type==="text"?r.push(e.props.text):(s(),n.push(e));return s(),n}S.mergeText=ne;function X(u){var n;switch(u.type){case"quote":return L(u.children).split(`
`).map(r=>`> ${r}`).join(`
`);case"search":return u.props.content;case"blockCode":return`\`\`\`${(n=u.props.lang)!==null&&n!==void 0?n:""}
${u.props.code}
\`\`\``;case"mathBlock":return`\\[
${u.props.formula}
\\]`;case"center":return`<center>
${L(u.children)}
</center>`;case"emojiCode":return`:${u.props.name}:`;case"unicodeEmoji":return u.props.emoji;case"bold":return`**${L(u.children)}**`;case"small":return`<small>${L(u.children)}</small>`;case"italic":return`<i>${L(u.children)}</i>`;case"strike":return`~~${L(u.children)}~~`;case"inlineCode":return`\`${u.props.code}\``;case"mathInline":return`\\(${u.props.formula}\\)`;case"mention":return u.props.acct;case"hashtag":return`#${u.props.hashtag}`;case"url":return u.props.brackets?`<${u.props.url}>`:u.props.url;case"link":return`${u.props.silent?"?":""}[${L(u.children)}](${u.props.url})`;case"fn":{const r=Object.keys(u.props.args).map(c=>{const e=u.props.args[c];return e===!0?c:`${c}=${e}`}),s=r.length>0?"."+r.join(","):"";return`$[${u.props.name}${s} ${L(u.children)}]`}case"plain":return`<plain>
${L(u.children)}
</plain>`;case"text":return u.props.text}throw new Error("unknown mfm node")}S.stringifyNode=X;var P;(function(u){u[u.none=0]="none",u[u.inline=1]="inline",u[u.block=2]="block"})(P||(P={}));function L(u){const n=[];let r=P.none;for(const s of u){let c=!0;(0,U.isMfmBlock)(s)?(r===P.none&&(c=!1),r=P.block):((r===P.none||r===P.inline)&&(c=!1),r=P.inline),c&&n.push((0,U.TEXT)(`
`)),n.push(s)}return n.map(s=>X(s)).join("")}S.stringifyTree=L;function J(u,n){if(n(u),u.children!=null)for(const r of u.children)J(r,n)}S.inspectOne=J;var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.default=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude88\ude90-\udebd\udebf-\udec2\udece-\udedb\udee0-\udee8]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g;var Q;function te(){if(Q)return D;Q=1;var u=j&&j.__createBinding||(Object.create?function(t,f,o,a){a===void 0&&(a=o);var _=Object.getOwnPropertyDescriptor(f,o);(!_||("get"in _?!f.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return f[o]}}),Object.defineProperty(t,a,_)}:function(t,f,o,a){a===void 0&&(a=o),t[a]=f[o]}),n=j&&j.__setModuleDefault||(Object.create?function(t,f){Object.defineProperty(t,"default",{enumerable:!0,value:f})}:function(t,f){t.default=f}),r=j&&j.__importStar||function(t){if(t&&t.__esModule)return t;var f={};if(t!=null)for(var o in t)o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)&&u(f,t,o);return n(f,t),f},s=j&&j.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(D,"__esModule",{value:!0}),D.language=void 0;const c=r(Z()),e=r(K),h=S,C=s(F),N=e.regexp(/[\u0020\u3000\t]/),$=e.regexp(/[a-z0-9]/i),b=e.alt([e.crlf,e.cr,e.lf]);function M(t){return new e.Parser((f,o,a)=>{const _=[];let l=o;for(let k=0;k<t.length;k++){const g=t[k].handler(f,l,a);if(!g.success)return l===o?e.failure():e.success(l,f.slice(o,l));_.push(g.value),l=g.index}return e.success(l,_)})}const y=new e.Parser((t,f,o)=>o.linkLabel?e.failure():e.success(f,null)),p=new e.Parser((t,f,o)=>o.depth<o.nestLimit?e.success(f,null):e.failure());function i(t,f){const o=e.alt([e.seq([p,t],1),f??e.char]);return new e.Parser((a,_,l)=>{l.depth++;const k=o.handler(a,_,l);return l.depth--,k})}return D.language=e.createLanguage({fullParser:t=>t.full.many(0),simpleParser:t=>t.simple.many(0),full:t=>e.alt([t.unicodeEmoji,t.centerTag,t.smallTag,t.plainTag,t.boldTag,t.italicTag,t.strikeTag,t.urlAlt,t.big,t.boldAsta,t.italicAsta,t.boldUnder,t.italicUnder,t.codeBlock,t.inlineCode,t.quote,t.mathBlock,t.mathInline,t.strikeWave,t.fn,t.mention,t.hashtag,t.emojiCode,t.link,t.url,t.search,t.text]),simple:t=>e.alt([t.unicodeEmoji,t.emojiCode,t.text]),inline:t=>e.alt([t.unicodeEmoji,t.smallTag,t.plainTag,t.boldTag,t.italicTag,t.strikeTag,t.urlAlt,t.big,t.boldAsta,t.italicAsta,t.boldUnder,t.italicUnder,t.inlineCode,t.mathInline,t.strikeWave,t.fn,t.mention,t.hashtag,t.emojiCode,t.link,t.url,t.text]),quote:t=>{const f=e.seq([e.str(">"),N.option(),e.seq([e.notMatch(b),e.char],1).many(0).text()],2).sep(b,1),o=e.seq([b.option(),b.option(),e.lineBegin,f,b.option(),b.option()],3);return new e.Parser((a,_,l)=>{let k;if(k=o.handler(a,_,l),!k.success)return k;const g=k.value,m=k.index;return g.length===1&&g[0].length===0?e.failure():(k=i(t.fullParser).many(0).handler(g.join(`
`),0,l),k.success?e.success(m,c.QUOTE((0,h.mergeText)(k.value))):k)})},codeBlock:t=>{const f=e.str("```");return e.seq([b.option(),e.lineBegin,f,e.seq([e.notMatch(b),e.char],1).many(0),b,e.seq([e.notMatch(e.seq([b,f,e.lineEnd])),e.char],1).many(1),b,f,e.lineEnd,b.option()]).map(o=>{const a=o[3].join("").trim(),_=o[5].join("");return c.CODE_BLOCK(_,a.length>0?a:null)})},mathBlock:t=>{const f=e.str("\\["),o=e.str("\\]");return e.seq([b.option(),e.lineBegin,f,b.option(),e.seq([e.notMatch(e.seq([b.option(),o])),e.char],1).many(1),b.option(),o,e.lineEnd,b.option()]).map(a=>{const _=a[4].join("");return c.MATH_BLOCK(_)})},centerTag:t=>{const f=e.str("<center>"),o=e.str("</center>");return e.seq([b.option(),e.lineBegin,f,b.option(),e.seq([e.notMatch(e.seq([b.option(),o])),i(t.inline)],1).many(1),b.option(),o,e.lineEnd,b.option()]).map(a=>c.CENTER((0,h.mergeText)(a[4])))},big:t=>{const f=e.str("***");return M([f,e.seq([e.notMatch(f),i(t.inline)],1).many(1),f]).map(o=>typeof o=="string"?o:c.FN("tada",{},(0,h.mergeText)(o[1])))},boldAsta:t=>{const f=e.str("**");return M([f,e.seq([e.notMatch(f),i(t.inline)],1).many(1),f]).map(o=>typeof o=="string"?o:c.BOLD((0,h.mergeText)(o[1])))},boldTag:t=>{const f=e.str("<b>"),o=e.str("</b>");return M([f,e.seq([e.notMatch(o),i(t.inline)],1).many(1),o]).map(a=>typeof a=="string"?a:c.BOLD((0,h.mergeText)(a[1])))},boldUnder:t=>{const f=e.str("__");return e.seq([f,e.alt([$,N]).many(1),f]).map(o=>c.BOLD((0,h.mergeText)(o[1])))},smallTag:t=>{const f=e.str("<small>"),o=e.str("</small>");return M([f,e.seq([e.notMatch(o),i(t.inline)],1).many(1),o]).map(a=>typeof a=="string"?a:c.SMALL((0,h.mergeText)(a[1])))},italicTag:t=>{const f=e.str("<i>"),o=e.str("</i>");return M([f,e.seq([e.notMatch(o),i(t.inline)],1).many(1),o]).map(a=>typeof a=="string"?a:c.ITALIC((0,h.mergeText)(a[1])))},italicAsta:t=>{const f=e.str("*"),o=e.seq([f,e.alt([$,N]).many(1),f]);return new e.Parser((a,_,l)=>{const k=o.handler(a,_,l);if(!k.success)return e.failure();const g=a.slice(0,_);return/[a-z0-9]$/i.test(g)?e.failure():e.success(k.index,c.ITALIC((0,h.mergeText)(k.value[1])))})},italicUnder:t=>{const f=e.str("_"),o=e.seq([f,e.alt([$,N]).many(1),f]);return new e.Parser((a,_,l)=>{const k=o.handler(a,_,l);if(!k.success)return e.failure();const g=a.slice(0,_);return/[a-z0-9]$/i.test(g)?e.failure():e.success(k.index,c.ITALIC((0,h.mergeText)(k.value[1])))})},strikeTag:t=>{const f=e.str("<s>"),o=e.str("</s>");return M([f,e.seq([e.notMatch(o),i(t.inline)],1).many(1),o]).map(a=>typeof a=="string"?a:c.STRIKE((0,h.mergeText)(a[1])))},strikeWave:t=>{const f=e.str("~~");return M([f,e.seq([e.notMatch(e.alt([f,b])),i(t.inline)],1).many(1),f]).map(o=>typeof o=="string"?o:c.STRIKE((0,h.mergeText)(o[1])))},unicodeEmoji:t=>{const f=RegExp(C.default.source);return e.regexp(f).map(o=>c.UNI_EMOJI(o))},plainTag:t=>{const f=e.str("<plain>"),o=e.str("</plain>");return e.seq([f,b.option(),e.seq([e.notMatch(e.seq([b.option(),o])),e.char],1).many(1).text(),b.option(),o],2).map(a=>c.PLAIN(a))},fn:t=>{const f=new e.Parser((l,k,g)=>{const m=e.regexp(/[a-z0-9_]+/i).handler(l,k,g);return m.success?e.success(m.index,m.value):m}),o=e.seq([e.regexp(/[a-z0-9_]+/i),e.seq([e.str("="),e.regexp(/[a-z0-9_.-]+/i)],1).option()]).map(l=>({k:l[0],v:l[1]!=null?l[1]:!0})),a=e.seq([e.str("."),o.sep(e.str(","),1)],1).map(l=>{const k={};for(const g of l)k[g.k]=g.v;return k}),_=e.str("]");return M([e.str("$["),f,a.option(),e.str(" "),e.seq([e.notMatch(_),i(t.inline)],1).many(1),_]).map(l=>{if(typeof l=="string")return l;const k=l[1],g=l[2]||{},m=l[4];return c.FN(k,g,(0,h.mergeText)(m))})},inlineCode:t=>{const f=e.str("`");return e.seq([f,e.seq([e.notMatch(e.alt([f,e.str("´"),b])),e.char],1).many(1),f]).map(o=>c.INLINE_CODE(o[1].join("")))},mathInline:t=>{const f=e.str("\\("),o=e.str("\\)");return e.seq([f,e.seq([e.notMatch(e.alt([o,b])),e.char],1).many(1),o]).map(a=>c.MATH_INLINE(a[1].join("")))},mention:t=>{const f=e.seq([y,e.str("@"),e.regexp(/[a-z0-9_-]+/i),e.seq([e.str("@"),e.regexp(/[a-z0-9_.-]+/i)],1).option()]);return new e.Parser((o,a,_)=>{let l;if(l=f.handler(o,a,_),!l.success)return e.failure();const k=o.slice(0,a);if(/[a-z0-9]$/i.test(k))return e.failure();let g=!1;const m=l.index,B=l.value[2],O=l.value[3];let T=O;O!=null&&(l=/[.-]+$/.exec(O),l!=null&&(T=O.slice(0,-1*l[0].length),T.length===0&&(g=!0,T=null)));let A=B;if(l=/-+$/.exec(B),l!=null&&(T==null?A=B.slice(0,-1*l[0].length):g=!0),(A.length===0||A[0]==="-")&&(g=!0),T!=null&&/^[.-]/.test(T)&&(g=!0),g)return e.success(m,o.slice(a,m));const de=T!=null?`@${A}@${T}`:`@${A}`;return e.success(a+de.length,c.MENTION(A,T,de))})},hashtag:t=>{const f=e.str("#"),o=e.seq([e.notMatch(e.alt([e.regexp(/[ \u3000\t.,!?'"#:/[\]【】()「」（）<>]/),N,b])),e.char],1),a=e.lazy(()=>e.alt([e.seq([e.str("("),i(a,o).many(0),e.str(")")]),e.seq([e.str("["),i(a,o).many(0),e.str("]")]),e.seq([e.str("「"),i(a,o).many(0),e.str("」")]),e.seq([e.str("（"),i(a,o).many(0),e.str("）")]),o])),_=e.seq([y,f,a.many(1).text()],2);return new e.Parser((l,k,g)=>{const m=_.handler(l,k,g);if(!m.success)return e.failure();const B=l.slice(0,k);if(/[a-z0-9]$/i.test(B))return e.failure();const O=m.index,T=m.value;return/^[0-9]+$/.test(T)?e.failure():e.success(O,c.HASHTAG(T))})},emojiCode:t=>{const f=e.notMatch(e.regexp(/[a-z0-9]/i)),o=e.str(":");return e.seq([e.alt([e.lineBegin,f]),o,e.regexp(/[a-z0-9_+-]+/i),o,e.alt([e.lineEnd,f])],2).map(a=>c.EMOJI_CODE(a))},link:t=>{const f=new e.Parser((a,_,l)=>{l.linkLabel=!0;const k=t.inline.handler(a,_,l);return l.linkLabel=!1,k}),o=e.str("]");return e.seq([y,e.alt([e.str("?["),e.str("[")]),e.seq([e.notMatch(e.alt([o,b])),i(f)],1).many(1),o,e.str("("),e.alt([t.urlAlt,t.url]),e.str(")")]).map(a=>{const _=a[1]==="?[",l=a[2],k=a[5];return c.LINK(_,k.props.url,(0,h.mergeText)(l))})},url:t=>{const f=e.regexp(/[.,a-z0-9_/:%#@$&?!~=+-]/i),o=e.lazy(()=>e.alt([e.seq([e.str("("),i(o,f).many(0),e.str(")")]),e.seq([e.str("["),i(o,f).many(0),e.str("]")]),f])),a=e.seq([y,e.regexp(/https?:\/\//),o.many(1).text()]);return new e.Parser((_,l,k)=>{let g;if(g=a.handler(_,l,k),!g.success)return e.failure();const m=g.index;let B=m;const O=g.value[1];let T=g.value[2];return g=/[.,]+$/.exec(T),g!=null&&(B-=g[0].length,T=T.slice(0,-1*g[0].length),T.length===0)?e.success(m,_.slice(l,m)):e.success(B,c.N_URL(O+T,!1))})},urlAlt:t=>{const f=e.str("<"),o=e.str(">"),a=e.seq([y,f,e.regexp(/https?:\/\//),e.seq([e.notMatch(e.alt([o,N])),e.char],1).many(1),o]).text();return new e.Parser((_,l,k)=>{const g=a.handler(_,l,k);if(!g.success)return e.failure();const m=g.value.slice(1,g.value.length-1);return e.success(g.index,c.N_URL(m,!0))})},search:t=>{const f=e.alt([e.regexp(/\[(検索|search)\]/i),e.regexp(/(検索|search)/i)]);return e.seq([b.option(),e.lineBegin,e.seq([e.notMatch(e.alt([b,e.seq([N,f,e.lineEnd])])),e.char],1).many(1),N,f,e.lineEnd,b.option()]).map(o=>{const a=o[2].join("");return c.SEARCH(a,`${a}${o[3]}${o[4]}`)})},text:t=>e.char}),D}var G;function ce(){if(G)return q;G=1,Object.defineProperty(q,"__esModule",{value:!0}),q.simpleParser=q.fullParser=void 0;const u=te(),n=S;function r(c,e){const h=u.language.fullParser.handler(c,0,{nestLimit:e.nestLimit!=null?e.nestLimit:20,depth:0,linkLabel:!1,trace:!1});return(0,n.mergeText)(h.value)}q.fullParser=r;function s(c){const e=u.language.simpleParser.handler(c,0,{});return(0,n.mergeText)(e.value)}return q.simpleParser=s,q}var Y;function re(){if(Y)return I;Y=1,Object.defineProperty(I,"__esModule",{value:!0}),I.extract=I.inspect=I.toString=I.parseSimple=I.parse=void 0;const u=ce(),n=S;function r(C,N={}){return(0,u.fullParser)(C,{nestLimit:N.nestLimit})}I.parse=r;function s(C){return(0,u.simpleParser)(C)}I.parseSimple=s;function c(C){return Array.isArray(C)?(0,n.stringifyTree)(C):(0,n.stringifyNode)(C)}I.toString=c;function e(C,N){if(Array.isArray(C))for(const $ of C)(0,n.inspectOne)($,N);else(0,n.inspectOne)(C,N)}I.inspect=e;function h(C,N){const $=[];return e(C,b=>{N(b)&&$.push(b)}),$}return I.extract=h,I}var W;function Z(){return W||(W=1,function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.TEXT=u.PLAIN=u.FN=u.LINK=u.N_URL=u.HASHTAG=u.MENTION=u.MATH_INLINE=u.INLINE_CODE=u.STRIKE=u.ITALIC=u.SMALL=u.BOLD=u.EMOJI_CODE=u.UNI_EMOJI=u.CENTER=u.MATH_BLOCK=u.CODE_BLOCK=u.SEARCH=u.QUOTE=u.extract=u.inspect=u.toString=u.parseSimple=u.parse=void 0;var n=re();Object.defineProperty(u,"parse",{enumerable:!0,get:function(){return n.parse}}),Object.defineProperty(u,"parseSimple",{enumerable:!0,get:function(){return n.parseSimple}}),Object.defineProperty(u,"toString",{enumerable:!0,get:function(){return n.toString}}),Object.defineProperty(u,"inspect",{enumerable:!0,get:function(){return n.inspect}}),Object.defineProperty(u,"extract",{enumerable:!0,get:function(){return n.extract}});var r=H;Object.defineProperty(u,"QUOTE",{enumerable:!0,get:function(){return r.QUOTE}}),Object.defineProperty(u,"SEARCH",{enumerable:!0,get:function(){return r.SEARCH}}),Object.defineProperty(u,"CODE_BLOCK",{enumerable:!0,get:function(){return r.CODE_BLOCK}}),Object.defineProperty(u,"MATH_BLOCK",{enumerable:!0,get:function(){return r.MATH_BLOCK}}),Object.defineProperty(u,"CENTER",{enumerable:!0,get:function(){return r.CENTER}}),Object.defineProperty(u,"UNI_EMOJI",{enumerable:!0,get:function(){return r.UNI_EMOJI}}),Object.defineProperty(u,"EMOJI_CODE",{enumerable:!0,get:function(){return r.EMOJI_CODE}}),Object.defineProperty(u,"BOLD",{enumerable:!0,get:function(){return r.BOLD}}),Object.defineProperty(u,"SMALL",{enumerable:!0,get:function(){return r.SMALL}}),Object.defineProperty(u,"ITALIC",{enumerable:!0,get:function(){return r.ITALIC}}),Object.defineProperty(u,"STRIKE",{enumerable:!0,get:function(){return r.STRIKE}}),Object.defineProperty(u,"INLINE_CODE",{enumerable:!0,get:function(){return r.INLINE_CODE}}),Object.defineProperty(u,"MATH_INLINE",{enumerable:!0,get:function(){return r.MATH_INLINE}}),Object.defineProperty(u,"MENTION",{enumerable:!0,get:function(){return r.MENTION}}),Object.defineProperty(u,"HASHTAG",{enumerable:!0,get:function(){return r.HASHTAG}}),Object.defineProperty(u,"N_URL",{enumerable:!0,get:function(){return r.N_URL}}),Object.defineProperty(u,"LINK",{enumerable:!0,get:function(){return r.LINK}}),Object.defineProperty(u,"FN",{enumerable:!0,get:function(){return r.FN}}),Object.defineProperty(u,"PLAIN",{enumerable:!0,get:function(){return r.PLAIN}}),Object.defineProperty(u,"TEXT",{enumerable:!0,get:function(){return r.TEXT}})}(R)),R}var x=Z();function oe(u,n){return u==null||u===""?[]:n?x.parseSimple(u):x.parse(u)}function V(u){return u.replace(/(^.)(.*)/,(n,r,s)=>`${r.toUpperCase()+s}`)}function E(u){if(!(!u||typeof u!="string")&&/^-?[0-9.]+s$/.test(u))return u}function se(u){if(!(!u||typeof u!="string")&&/^[0-9a-f]{3,6}$/i.test(u))return u}function fe(u){if(!u||typeof u!="string")return;const n=u.toLowerCase();return["hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].includes(n)?n:void 0}function z(u){if(!u)return;if(typeof u=="number")return u;if(typeof u!="string")return;const n=parseFloat(u);if(!isNaN(n))return n}const ae={key:0,style:{border:"solid 1px red"}},v=d.defineComponent({__name:"Mfm",props:{tokens:{},style:{},className:{},class:{},debug:{type:Boolean}},setup(u){const r=!!u.debug;return(s,c)=>(d.openBlock(),d.createElementBlock(d.Fragment,null,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(s.tokens,(e,h)=>(d.openBlock(),d.createBlock(d.resolveDynamicComponent(`${d.unref(V)(e.type)}`),{style:d.normalizeStyle(s.style),className:s.className,key:h,token:e.props,children:e.children},null,8,["style","className","token","children"]))),128)),d.unref(r)?(d.openBlock(),d.createElementBlock("div",ae,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(s.tokens,(e,h)=>(d.openBlock(),d.createElementBlock("div",{key:h},[d.createElementVNode("p",null,"Selected: "+d.toDisplayString(d.unref(V)(e.type)),1),d.createElementVNode("pre",null,d.toDisplayString(e),1)]))),128))])):d.createCommentVNode("",!0)],64))}}),le={class:"bold"},ie=d.defineComponent({__name:"Bold",props:{children:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("b",le,[d.createVNode(s,{tokens:n.children},null,8,["tokens"])])}}}),me={class:"italic"},pe=d.defineComponent({__name:"Italic",props:{children:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("i",me,[d.createVNode(s,{tokens:n.children},null,8,["tokens"])])}}}),_e={class:"quote",style:{display:"block",margin:"8px",padding:"6px 0px 6px 12px",color:"var(--fg)","border-left":"solid 3px var(--fg)",opacity:"0.7"}},he=d.defineComponent({__name:"Quote",props:{children:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("div",_e,[d.createVNode(s,{tokens:n.children},null,8,["tokens"])])}}}),be={class:"small",style:{opacity:"0.7"}},ye=d.defineComponent({__name:"Small",props:{children:{},token:{},style:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("small",be,[d.createVNode(s,{tokens:n.children},null,8,["tokens"])])}}}),ke={class:"center"},ge=d.defineComponent({__name:"Center",props:{children:{},class:{},className:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("div",ke,[d.createVNode(s,{tokens:n.children},null,8,["tokens"])])}}}),Ce=["src"],Ne={key:1},$e=d.defineComponent({__name:"EmojiCode",props:{token:{},children:{},className:{},class:{},style:{}},setup(u){const n=d.inject("emojis",{});return(r,s)=>d.unref(n)[r.token.name]?(d.openBlock(),d.createElementBlock("img",{key:0,src:d.unref(n)[r.token.name].url,class:"emoji"},null,8,Ce)):(d.openBlock(),d.createElementBlock("span",Ne,":"+d.toDisplayString(r.token.name)+":",1))}}),ee=(u,n)=>{const r=u.__vccOpts||u;for(const[s,c]of n)r[s]=c;return r},Be=ee($e,[["__scopeId","data-v-0407b1c0"]]),Ee=["href"],Me=["src"],Te=d.defineComponent({__name:"Mention",props:{token:{},children:{},style:{},className:{}},setup(u){const n=u,r=d.inject("domain",""),s=d.ref(void 0);return d.watch(()=>n.token,async()=>{const c=await fetch(`https:/${n.token.host??r.value}/api/users/search-by-username-and-host`,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({detail:!1,limit:1,username:n.token.username})});s.value=(await c.json())[0]},{immediate:!0}),(c,e)=>(d.openBlock(),d.createElementBlock("a",{class:"mention",href:c.token.host??"https://"+d.unref(r)+"/"+c.token.acct},[s.value?(d.openBlock(),d.createElementBlock("img",{key:0,class:"avatar",src:s.value.avatarUrl},null,8,Me)):d.createCommentVNode("",!0),d.createTextVNode(d.toDisplayString(c.token.acct),1)],8,Ee))}}),Oe=d.defineComponent({__name:"Plain",props:{children:{},token:{},style:{},className:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{tokens:n.children},null,8,["tokens"])}}}),Ie={class:"block-code"},Se=d.defineComponent({__name:"BlockCode",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>(d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createTextVNode(d.toDisplayString(n.token.lang)+" ",1),d.createElementVNode("pre",Ie,[d.createTextVNode("    "),d.createElementVNode("code",null,d.toDisplayString(n.token.code),1),d.createTextVNode(`
  `)])],64))}}),Le={class:"inline-code"},je=d.defineComponent({__name:"InlineCode",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>(d.openBlock(),d.createElementBlock("pre",Le,d.toDisplayString(n.token.code),1))}}),Pe={class:"search"},qe=d.defineComponent({__name:"Search",props:{token:{},children:{}},setup(u){const n=u,r=d.ref(n.token.query),s=()=>{window.open("https://www.google.com/search?q="+encodeURIComponent(r.value),"_blank")};return(c,e)=>(d.openBlock(),d.createElementBlock("div",Pe,[d.withDirectives(d.createElementVNode("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=h=>r.value=h)},null,512),[[d.vModelText,r.value]]),d.createElementVNode("button",{onClick:s},"検索")]))}}),Ae={class:"strike"},we=d.defineComponent({__name:"Strike",props:{token:{},children:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("del",Ae,[d.createVNode(s,{tokens:n.children},null,8,["tokens"])])}}}),De=d.defineComponent({__name:"UnicodeEmoji",props:{children:{},token:{},class:{},style:{}},setup(u){return(n,r)=>(d.openBlock(),d.createElementBlock("span",{style:d.normalizeStyle(n.style)},d.toDisplayString(n.token.emoji),5))}}),ze=["href","textContent"],Re=d.defineComponent({__name:"Url",props:{token:{},children:{}},setup(u){return(n,r)=>(d.openBlock(),d.createElementBlock("a",{class:"url",href:n.token.url,textContent:d.toDisplayString(n.token.url)},null,8,ze))}}),He={key:0},Ue=["href"],Fe=d.defineComponent({__name:"Link",props:{token:{},children:{},className:{},style:{},class:{}},setup(u){const n=d.inject("debugMode",!1);return(r,s)=>{const c=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.unref(n)?(d.openBlock(),d.createElementBlock("span",He,"silent - "+d.toDisplayString(r.token.silent),1)):d.createCommentVNode("",!0),d.createElementVNode("a",{class:d.normalizeClass(["link",r.className]),href:r.token.url,style:d.normalizeStyle(r.style)},[d.createVNode(c,{tokens:r.children},null,8,["tokens"])],14,Ue)],64)}}}),Ve=["href"],Ke=d.defineComponent({__name:"Hashtag",props:{token:{},children:{},style:{}},setup(u){return(n,r)=>(d.openBlock(),d.createElementBlock("a",{class:"hashtag",href:"/tags/"+n.token.hashtag},"#"+d.toDisplayString(n.token.hashtag),9,Ve))}}),Xe=d.defineComponent({__name:"Fn",props:{token:{},tokens:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var s,c;return d.openBlock(),d.createBlock(d.resolveDynamicComponent(d.unref(V)(((s=n.token)==null?void 0:s.name)??"")),{className:`Fn ${(c=n.token)==null?void 0:c.name} ${n.className??""}`,token:n.token,children:n.children,style:d.normalizeStyle(n.style)},null,8,["className","token","children","style"])}}}),Je=d.defineComponent({__name:"Fg",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`fg ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{color:`#${(c=n.token)==null?void 0:c.args.color}`},n.style])},null,8,["className","tokens","style"])}}}),Qe=d.defineComponent({__name:"Bg",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`bg ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{background:`#${(c=n.token)==null?void 0:c.args.color}`},n.style])},null,8,["className","tokens","style"])}}}),Ge=d.defineComponent({__name:"Font",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e,h,C,N,$,b,M,y,p,i,t;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`fg ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{fontFamily:(e=(c=n.token)==null?void 0:c.args)!=null&&e.serif?"serif":(C=(h=n.token)==null?void 0:h.args)!=null&&C.monospace?"monospace":($=(N=n.token)==null?void 0:N.args)!=null&&$.cursive?"cursive":(M=(b=n.token)==null?void 0:b.args)!=null&&M.fantasy?"fantasy":(p=(y=n.token)==null?void 0:y.args)!=null&&p.emoji?"emoji":(t=(i=n.token)==null?void 0:i.args)!=null&&t.math?"math":"sans-serif"},n.style])},null,8,["className","tokens","style"])}}}),Ye=d.defineComponent({__name:"Blur",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`blur ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{fontFamily:Object.keys(((c=n.token)==null?void 0:c.args)??{})},n.style])},null,8,["className","tokens","style"])}}}),We=d.defineComponent({__name:"Flip",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`flip ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{transform:`scale(${(c=n.token)!=null&&c.args.h?1:-1}, ${(e=n.token)!=null&&e.args.v?-1:1})`},n.style])},null,8,["className","tokens","style"])}}}),Ze=d.defineComponent({__name:"Scale",props:{token:{},children:{},style:{},className:{}},setup(u){const n=u,r=d.computed(()=>{var e;const c=z((e=n.token)==null?void 0:e.args.x)??1;return Math.min(c,5)}),s=d.computed(()=>{var e;const c=z((e=n.token)==null?void 0:e.args.y)??1;return Math.min(c,5)});return(c,e)=>{const h=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(h,{className:`scale ${c.className??""}`,tokens:c.children,style:d.normalizeStyle([{transform:`scale(${r.value}, ${s.value})`},c.style])},null,8,["className","tokens","style"])}}}),xe=d.defineComponent({__name:"Position",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`position ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{transform:`translateX(${(c=n.token)==null?void 0:c.args.x}em) translateY(${(e=n.token)==null?void 0:e.args.y}em)`},n.style])},null,8,["className","tokens","style"])}}}),ve=d.defineComponent({__name:"X2",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`x2 ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{fontSize:"200%"},n.style])},null,8,["className","tokens","style"])}}}),ed=d.defineComponent({__name:"X3",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`x3 ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{fontSize:"300%"},n.style])},null,8,["className","tokens","style"])}}}),dd=d.defineComponent({__name:"X4",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`x4 ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{fontSize:"400%"},n.style])},null,8,["className","tokens","style"])}}}),ud=d.defineComponent({__name:"Jump",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`position ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"0.75s"} linear ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal none running mfm-jump`},n.style])},null,8,["className","tokens","style"])}}}),nd=d.defineComponent({__name:"Tada",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`rotate ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"1s"} linear ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal both running tada`},n.style])},null,8,["className","tokens","style"])}}}),td=d.defineComponent({__name:"Jelly",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`rotate ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"1s"} linear ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal both running mfm-rubberBand`},n.style])},null,8,["className","tokens","style"])}}}),cd=d.defineComponent({__name:"Spin",props:{token:{},children:{},style:{},className:{}},setup(u){const n=u,r=d.computed(()=>{var h,C;const c=(h=n.token)==null?void 0:h.args.x,e=(C=n.token)==null?void 0:C.args.y;return c&&e?"mfm-spinXY":c?"mfm-spinX":e?"mfm-spinY":"mfm-spin"}),s=d.computed(()=>{var c,e;return(c=n.token)!=null&&c.args.alternate?"alternate":(e=n.token)!=null&&e.args.left?"reverse":"normal"});return(c,e)=>{var C,N;const h=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(h,{className:`position ${c.className??""}`,tokens:c.children,style:d.normalizeStyle([{animation:`${d.unref(E)((C=c.token)==null?void 0:C.args.speed)??"1.5s"} linear ${d.unref(E)((N=c.token)==null?void 0:N.args.delay)??"0s"} infinite ${s.value} none running ${r.value}`},c.style])},null,8,["className","tokens","style"])}}}),rd=d.defineComponent({__name:"Twitch",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`rotate ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"1s"} linear ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal none running mfm-twitch`},n.style])},null,8,["className","tokens","style"])}}}),od=d.defineComponent({__name:"Shake",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`position ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"0.5s"} ease ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal none running mfm-shake`},n.style])},null,8,["className","tokens","style"])}}}),sd=d.defineComponent({__name:"Bounce",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`bounce ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"0.75s"} linear ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal none running mfm-bounce`,transformOrigin:"center bottom"},n.style])},null,8,["className","tokens","style"])}}}),fd=d.defineComponent({__name:"Rainbow",props:{token:{},children:{},style:{},className:{}},setup(u){return(n,r)=>{var c,e;const s=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(s,{className:`rotate ${n.className??""}`,tokens:n.children,style:d.normalizeStyle([{animation:`${d.unref(E)((c=n.token)==null?void 0:c.args.speed)??"0.5s"} ease ${d.unref(E)((e=n.token)==null?void 0:e.args.delay)??"0s"} infinite normal none running mfm-rainbow`},n.style])},null,8,["className","tokens","style"])}}}),ad=[(u=>(d.pushScopeId("data-v-0b45643b"),u=u(),d.popScopeId(),u))(()=>d.createElementVNode("path",{fill:"currentColor",d:"M197.58 129.06l-51.61-19-19-51.65a15.92 15.92 0 0 0-29.88 0L78.07 110l-51.65 19a15.92 15.92 0 0 0 0 29.88L78 178l19 51.62a15.92 15.92 0 0 0 29.88 0l19-51.61 51.65-19a15.92 15.92 0 0 0 0-29.88Z"},null,-1))],ld=ee(d.defineComponent({__name:"Sparkle",props:{token:{},children:{},style:{},className:{}},setup(u){const n=u,r=d.computed(()=>{var h,C,N,$,b,M;const c=E((N=(C=(h=n.token)==null?void 0:h.props)==null?void 0:C.args)==null?void 0:N.speed)??"1s",e=E((M=(b=($=n.token)==null?void 0:$.props)==null?void 0:b.args)==null?void 0:M.delay)??"0s";return[{style:{top:"-0.5em",left:"-0.5em",animation:`mfm-sparkle ${c} linear infinite`,animationDelay:e,color:"#eb6f92"}},{style:{top:"-0.5em",right:"-0.5em",animation:`mfm-sparkle ${c} linear infinite`,animationDelay:`calc(${e} + ${c} / 3)`,color:"#f6c177"}},{style:{bottom:"-0.5em",left:"50%",marginLeft:"-0.5em",animation:`mfm-sparkle ${c} linear infinite`,animationDelay:`calc(${e} + ${c} * 2 / 3)`,color:"#9ccfd8"}}]}),s=d.computed(()=>({position:"relative",display:"inline-block",...n.style}));return(c,e)=>{const h=d.resolveComponent("MfmComponent");return d.openBlock(),d.createElementBlock("span",{class:d.normalizeClass(`mfm-sparkle ${c.className??""}`),style:d.normalizeStyle(s.value)},[d.createVNode(h,{tokens:c.children},null,8,["tokens"]),(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.value,(C,N)=>(d.openBlock(),d.createElementBlock("svg",{key:N,class:"mfm-sparkle-particle",style:d.normalizeStyle(C.style),viewBox:"0 0 256 256","aria-hidden":"true"},ad,4))),128))],6)}}}),[["__scopeId","data-v-0b45643b"]]),id=d.defineComponent({__name:"Ruby",props:{children:{},token:{},style:{},className:{}},setup(u){const n=u,r=d.computed(()=>{var e;const s=(e=n.children)==null?void 0:e[0],c=s&&s.type==="text"&&"text"in s.props?s.props.text.split(" "):["",""];return{body:c[0]??"",yomi:c[1]??""}});return(s,c)=>(d.openBlock(),d.createElementBlock("ruby",null,[d.createTextVNode(d.toDisplayString(r.value.body)+" ",1),d.createElementVNode("rt",null,d.toDisplayString(r.value.yomi),1)]))}}),md=d.defineComponent({__name:"Border",props:{token:{},children:{},style:{},className:{}},setup(u){const n=u,r=d.computed(()=>{var $;const s=(($=n.token)==null?void 0:$.args)??{},c=se(s.color),e=fe(s.style)||"solid",h=z(s.width)??1,C=z(s.radius)??0,N="noclip"in s;return{border:c?`${h}px ${e} #${c}`:`${h}px ${e} var(--accent)`,borderRadius:`${C}px`,...!N&&{overflow:"clip"}}});return(s,c)=>{const e=d.resolveComponent("MfmComponent");return d.openBlock(),d.createBlock(e,{className:`border ${s.className??""}`,tokens:s.children,style:d.normalizeStyle([r.value,s.style])},null,8,["className","tokens","style"])}}}),pd={MfmRenderer:d.defineComponent({__name:"MfmRenderer",props:{text:{}},setup(u){const n=u,r=d.computed(()=>oe(n.text,!1));return(s,c)=>(d.openBlock(),d.createBlock(v,{tokens:r.value},null,8,["tokens"]))}}),MfmComponent:v,Bold:ie,Italic:pe,Quote:he,Small:ye,Text:ue,Center:ge,EmojiCode:Be,Mention:Te,Plain:Oe,BlockCode:Se,InlineCode:je,Search:qe,Strike:we,UnicodeEmoji:De,Url:Re,Link:Fe,Hashtag:Ke,Fn:Xe,Fg:Je,Bg:Qe,Font:Ge,Blur:Ye,Flip:We,Scale:Ze,Position:xe,X2:ve,X3:ed,X4:dd,Jump:ud,Tada:nd,Jelly:td,Spin:cd,Twitch:rd,Shake:od,Bounce:sd,Rainbow:fd,Sparkle:ld,Ruby:id,Border:md};return{install:u=>(Object.entries(pd).forEach(([n,r])=>{u.component(n,r)}),u)}});
